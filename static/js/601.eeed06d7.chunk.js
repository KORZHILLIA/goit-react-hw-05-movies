"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[601],{601:function(e,n,r){r.r(n),r.d(n,{default:function(){return l}});var t=r(885),a=r(791),c=r(501),u=r(871),o=r(188),i=r(942),s=r(413),f=r(184),p=function(e){var n=function(e,n){var r=(0,a.useState)(e),c=(0,t.Z)(r,2),u=c[0],o=c[1];return[u,function(e){var n=e.target,r=n.name,t=n.value,a=n.type,c=n.checked,u="checkbox"===a?c:t;o((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,i.Z)({},r,u))}))},function(r){r.preventDefault(),n((0,s.Z)({},u)),o(e)}]}({query:""},e.onSubmit),r=(0,t.Z)(n,3),c=r[0],u=r[1],o=r[2],p=c.query;return(0,f.jsxs)("form",{onSubmit:o,children:[(0,f.jsx)("input",{type:"text",name:"query",value:p,onChange:u}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})},l=function(){var e=(0,c.lr)(),n=(0,t.Z)(e,2),r=n[0],i=n[1],s=r.get("query"),l=(0,u.TH)(),h=(0,o.H)({movies:[],loading:!1,error:null},s,"searchMoviesByQuery"),v=(0,t.Z)(h,1)[0],d=(0,a.useCallback)((function(e){var n=e.query;return i({query:n})}),[i]),g=v.error,x=v.movies,y=v.loading,m=x.map((function(e){var n=e.id,r=e.original_title;return(0,f.jsx)("li",{children:(0,f.jsx)(c.rU,{to:"".concat(n),state:{from:l},children:r})},n)}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{onSubmit:d}),y&&(0,f.jsx)("p",{children:"Loading"}),g&&(0,f.jsx)("p",{children:g}),(0,f.jsx)("ul",{children:m})]})}},188:function(e,n,r){r.d(n,{H:function(){return m}});var t=r(942),a=r(413),c=r(861),u=r(885),o=r(757),i=r.n(o),s=r(791),f="https://api.themoviedb.org/3/",p="f3ea85ad66a7076fbd3968a20cd79e45",l=new URLSearchParams({api_key:p,language:"en-US",page:1,include_adult:!0});function h(){return v.apply(this,arguments)}function v(){return(v=(0,c.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"trending/movie/day?").concat(l));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return r=n.json(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,n){var r=n?"/".concat(n):"",t=function(){var n=(0,c.Z)(i().mark((function n(){var t,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(f,"movie/").concat(e).concat(r,"?api_key=").concat(p,"&language=en-US"));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return a=t.json(),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return t()}function g(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"search/movie?").concat(l,"&query=").concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("You typed something wrong, please try again");case 5:return t=r.json(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=null;function m(e,n,r){var o=(0,s.useState)(e),f=(0,u.Z)(o,2),p=f[0],l=f[1],v=Object.keys(p)[0];return(0,s.useEffect)((function(){if(null!==n){var e=function(){var e=(0,c.Z)(i().mark((function e(){var c,u,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),"searchMoviesByQuery"!==r){e.next=8;break}return e.next=5,g(n);case 5:y=e.sent,e.next=17;break;case 8:if("getTrendingMovies"!==r){e.next=14;break}return e.next=11,h();case 11:y=e.sent,e.next=17;break;case 14:return e.next=16,d(n,r);case 16:y=e.sent;case 17:c=y,"reviews"!==r&&"searchMoviesByQuery"!==r&&"getTrendingMovies"!==r||(u=y.results,c=u),"credits"===r&&(o=y.cast,c=o),l((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,t.Z)({loading:!1},v,c))})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),l((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1,error:e.t0.message})}));case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();e()}}),[v,n,r]),[p]}}}]);
//# sourceMappingURL=601.eeed06d7.chunk.js.map