"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[323],{323:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var t=n(885),a=n(791),i=n(501),s=n(871),c=n(188),o={explicitWrapper:"movieExplicit_explicitWrapper__18X0F",mainTitle:"movieExplicit_mainTitle__1GNGy",year:"movieExplicit_year__wGmjJ movieExplicit_mainTitle__1GNGy",paragraph:"movieExplicit_paragraph__0RWsA",bold:"movieExplicit_bold__efhMF movieExplicit_paragraph__0RWsA"},l=n(184),u=function(e){var r=e.img,n=e.title,t=e.date,a=e.score,i=e.overview,s=e.genres,c=r?"https://image.tmdb.org/t/p/w500".concat(r):"https://image.tmdb.org/t/p/w500/lXhgCODAbBXL5buk9yEmTpOoOgR.jpg",u=t.slice(0,4),p=s.map((function(e){return e.name})).join(", ");return(0,l.jsxs)("div",{className:o.explicitWrapper,children:[(0,l.jsx)("img",{src:c,alt:n}),(0,l.jsxs)("div",{className:o.rightSide,children:[(0,l.jsxs)("p",{className:o.paragraph,children:[(0,l.jsxs)("span",{className:o.mainTitle,children:[n," "]}),(0,l.jsxs)("span",{className:o.year,children:["(",u,")"]})]}),(0,l.jsxs)("p",{className:o.paragraph,children:["User score: ",a]}),(0,l.jsx)("p",{className:o.bold,children:"Overview"}),(0,l.jsxs)("p",{className:o.paragraph,children:[" ",i]}),(0,l.jsx)("p",{className:o.bold,children:"Genres"}),(0,l.jsx)("p",{className:o.paragraph,children:p})]})]})};u.defaultProps={title:"Title unknown",date:"Release date unknown",score:"Score unknown",overview:"No overview yet",genres:[]};var p=(0,a.memo)(u),d="movieDetails_infoList__U5At2",h="movieDetails_backBtn__Ct37b",m=function(){var e,r,n=(0,s.UO)().movieId,o=(0,c.H)({movie:{},loading:!1,error:null},n,""),u=(0,t.Z)(o,1)[0],m=(0,s.TH)(),v=null!==(e=null===(r=m.state)||void 0===r?void 0:r.from)&&void 0!==e?e:JSON.parse(localStorage.getItem("backRef"));m.state&&localStorage.setItem("backRef",JSON.stringify(m.state.from));var f=u.movie,g=u.error,x=u.loading,w=f.backdrop_path,_=f.original_title,k=f.release_date,b=f.vote_average,j=f.overview,y=f.genres;return(0,l.jsxs)(l.Fragment,{children:[x&&(0,l.jsx)("p",{children:"Loading"}),g&&(0,l.jsx)("p",{children:g}),(0,l.jsx)(i.rU,{className:h,to:v,children:"Go back"}),(0,l.jsx)(p,{img:w,title:_,date:k,score:"".concat(10*Number(b),"%"),overview:j,genres:y}),(0,l.jsx)("h2",{children:"Additional information"}),(0,l.jsxs)("ul",{className:d,children:[(0,l.jsx)("li",{children:(0,l.jsx)(i.rU,{to:"cast",children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(i.rU,{to:"reviews",children:"Reviews"})})]}),(0,l.jsx)(a.Suspense,{fallback:(0,l.jsx)("p",{children:"Loading subpage..."}),children:(0,l.jsx)(s.j3,{})})]})}},188:function(e,r,n){n.d(r,{H:function(){return w}});var t=n(942),a=n(413),i=n(861),s=n(885),c=n(757),o=n.n(c),l=n(791),u="https://api.themoviedb.org/3/",p="f3ea85ad66a7076fbd3968a20cd79e45",d=new URLSearchParams({api_key:p,language:"en-US",page:1,include_adult:!0});function h(){return m.apply(this,arguments)}function m(){return(m=(0,i.Z)(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"trending/movie/day?").concat(d));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return n=r.json(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){var n=r?"/".concat(r):"",t=function(){var r=(0,i.Z)(o().mark((function r(){var t,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("".concat(u,"movie/").concat(e).concat(n,"?api_key=").concat(p,"&language=en-US"));case 2:if((t=r.sent).ok){r.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return a=t.json(),r.abrupt("return",a);case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return t()}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(o().mark((function e(r){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u,"search/movie?").concat(d,"&query=").concat(r));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("You typed something wrong, please try again");case 5:return t=n.json(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=null;function w(e,r,n){var c=(0,l.useState)(e),u=(0,s.Z)(c,2),p=u[0],d=u[1],m=Object.keys(p)[0];return(0,l.useEffect)((function(){if(null!==r){var e=function(){var e=(0,i.Z)(o().mark((function e(){var i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),"searchMoviesByQuery"!==n){e.next=8;break}return e.next=5,f(r);case 5:x=e.sent,e.next=17;break;case 8:if("getTrendingMovies"!==n){e.next=14;break}return e.next=11,h();case 11:x=e.sent,e.next=17;break;case 14:return e.next=16,v(r,n);case 16:x=e.sent;case 17:i=x,"reviews"!==n&&"searchMoviesByQuery"!==n&&"getTrendingMovies"!==n||(s=x.results,i=s),"credits"===n&&(c=x.cast,i=c),d((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,t.Z)({loading:!1},m,i))})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),d((function(r){return(0,a.Z)((0,a.Z)({},r),{},{loading:!1,error:e.t0.message})}));case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();e()}}),[m,r,n]),[p]}}}]);
//# sourceMappingURL=323.bdc688a1.chunk.js.map