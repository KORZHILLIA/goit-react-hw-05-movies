"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[35],{35:function(e,n,r){r.r(n),r.d(n,{default:function(){return u}});var t=r(885),a=r(501),c=r(871),o=r(188),i=r(184),u=function(){var e=(0,c.TH)(),n=(0,o.H)({movies:[],loading:!1,error:null},0,"getTrendingMovies"),r=(0,t.Z)(n,1)[0],u=r.movies,s=r.loading,f=r.error,p=u.map((function(n){var r=n.original_title,t=n.id;return(0,i.jsx)("li",{children:(0,i.jsx)(a.rU,{to:"movies/".concat(t),state:{from:e},children:r})},t)}));return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)("p",{children:"Loading"}),f&&(0,i.jsx)("p",{children:f}),(0,i.jsx)("ul",{children:p})]})}},188:function(e,n,r){r.d(n,{H:function(){return x}});var t=r(942),a=r(413),c=r(861),o=r(885),i=r(757),u=r.n(i),s=r(791),f="https://api.themoviedb.org/3/",p="f3ea85ad66a7076fbd3968a20cd79e45",l=new URLSearchParams({api_key:p,language:"en-US",page:1,include_adult:!0});function h(){return d.apply(this,arguments)}function d(){return(d=(0,c.Z)(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"trending/movie/day?").concat(l));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return r=n.json(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,n){var r=n?"/".concat(n):"",t=function(){var n=(0,c.Z)(u().mark((function n(){var t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(f,"movie/").concat(e).concat(r,"?api_key=").concat(p,"&language=en-US"));case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Something went wrong, try once again...");case 5:return a=t.json(),n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return t()}function g(e){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(u().mark((function e(n){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f,"search/movie?").concat(l,"&query=").concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("You typed something wrong, please try again");case 5:return t=r.json(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=null;function x(e,n,r){var i=(0,s.useState)(e),f=(0,o.Z)(i,2),p=f[0],l=f[1],d=Object.keys(p)[0];return(0,s.useEffect)((function(){if(null!==n){var e=function(){var e=(0,c.Z)(u().mark((function e(){var c,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l((function(e){return(0,a.Z)((0,a.Z)({},e),{},{loading:!0})})),"searchMoviesByQuery"!==r){e.next=8;break}return e.next=5,g(n);case 5:k=e.sent,e.next=17;break;case 8:if("getTrendingMovies"!==r){e.next=14;break}return e.next=11,h();case 11:k=e.sent,e.next=17;break;case 14:return e.next=16,v(n,r);case 16:k=e.sent;case 17:c=k,"reviews"!==r&&"searchMoviesByQuery"!==r&&"getTrendingMovies"!==r||(o=k.results,c=o),"credits"===r&&(i=k.cast,c=i),l((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,t.Z)({loading:!1},d,c))})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),l((function(n){return(0,a.Z)((0,a.Z)({},n),{},{loading:!1,error:e.t0.message})}));case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();e()}}),[d,n,r]),[p]}}}]);
//# sourceMappingURL=35.b42db70b.chunk.js.map